
{% extends 'layout/dashboard/index.html' %} 
{% load widget_tweaks %}
{% block content %}

<div class="content-wrapper">
    <section class="content-header">
        <h1>
            Edit Data Pekerja
        </h1>
        <ol class="breadcrumb">
            <li>
                <a href="#">
                    <i class="fa fa-dashboard"></i>Edit Data Pekerja </a>
            </li>
            <li class="active">{{pekerja.nama}}</li>
        </ol>
    </section>
<br>
    <section class="content-header">

 <div class="col-md-6">
  <form action="{% url 'data_pekerja:updatebio' siswa.id %}" method="POST" enctype="multipart/form-data">
                                {% csrf_token %}
                        <div class="col-md-4">
                            <div class="form-group">
                              <label for="" class="control-label">Nomor Induk Pekerja</label>
                              <input type="text" class="form-control" name="nip"  required>
                          </div>
                          <div class="form-group">
                              <label for="" class="control-label">Nama Perusahaan</label>
                              <input type="text" class="form-control" name="nama_ptp"  required>
                          </div>
                          <div class="form-group">
                              <label for="" class="control-label">Nama Pekerja</label>
                              <input type="text" class="form-control" name="nama"  required>
                          </div>
                          <div class="form-group">
                              <label for="" class="control-label">Tanggal Lahir</label>
                              <input required type="text" id="date" class="form-control" name="tgl_lahir"  >
                          </div> 
                          <div class="form-group">
                              <label for="" class="control-label">Alamat</label>
                              <textarea name="alamat" rows="3" class="form-control" required></textarea>
                          </div>
                      </div>
                      <div class="col-md-4">
                          <div class="form-group">
                              <label for="" class="control-label">Jenis Kelamin</label>
                              <br/>
                              <input required type="radio" name="jenis_kelamin" value="Pria"> Laki - Laki &nbsp; &nbsp; &nbsp;
                              <input required type="radio" name="jenis_kelamin" value="Wanita"> Perempuan
                          </div>
                          <div class="form-group">
                            <label for="" class="control-label">Agama</label>
                            <input type="text" class="form-control" name="agama"  required>
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Status</label>
                            <br/>
                            <input required type="radio" name="status" value="Kawin"> Kawin &nbsp; &nbsp; &nbsp;
                            <input required type="radio" name="status" value="Belum Kawin"> Belum Kawin
                        </div>

                        <div class="form-group" onclick="jbtn()">
                            <label for="" class="control-label">Jabatan</label><br/>
                            <input required type="radio" name="jabatan" value="ketua"> Ketua &nbsp;
                            <input required type="radio" name="jabatan" value="sekjend"> Sekjen &nbsp;
                            <input required type="radio" name="jabatan" value="pengurus"> Pengurus Harian
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">nilai Pko</label><br/>
                            <input type="text" class="form-control" id="pko" name="nilai"  required>
                        </div>

                        <div class="form-group">
                            <label for="" class="control-label">Kehadiran</label>
                            <input type="number" class="form-control" name="kehadiran"  required id="kehadiran" onkeyup="dspl()">
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Pelanggaran</label>
                            <input type="number" class="form-control" name="pelanggaran"  required id="pelanggaran" onkeyup="dspl()">
                        </div>
                         <div class="form-group">
                            <label for="" class="control-label">Nilai Disiplin</label> 
                            <input type="text" class="form-control" id="dsp" name="nilaidp"  required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group" onclick="kes()">
                            <label for="" class="control-label">Kesehatan</label><br/>
                            <input required type="radio" name="kesehatan" value="Sehat"> Sehat &nbsp;
                            <input required type="radio" name="kesehatan" value="Tidak Sehat"> Tidak Sehat
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">nilai Kesehatan</label> 
                            <input type="text" class="form-control" id="kes" name="nilaikh"  required>
                        </div>

                        <div class="form-group">
                            <label for="" class="control-label">Intelegensi</label>
                            <input type="number" class="form-control" name="intelegensi"  required id="intelegensi" onkeyup="psi()">
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Kepribadian</label>
                            <input type="number" class="form-control" name="kepribadian"  required id="kepribadian" onkeyup="psi()">
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Nilai Praktik</label>
                            <input type="text" class="form-control" id="psk" name="nilaipsk"  required>
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Teori</label>
                            <input type="number" class="form-control" name="teori"  required id="teori" onkeyup="pet()">
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label">Praktik</label>
                            <input type="number" class="form-control" name="praktek"  required id="praktik" onkeyup="pet()">
                        </div>
                        <div claseditbios="form-group">
                            <label for="" class="control-label">Nilai Praktik</label>
                            <input type="text" class="form-control" id="pt2" name="nilaipt2" required>
                        </div>


            <div class="form-group" hidden>
                <label for="" class="control-label">Nilai Karakter</label>
                <input type="text" class="form-control" id="id_nilaikr" name="nilaikr" value="{{siswa.karakters.nilai}}" required>
            </div>

           <div class="form-group">
                <button type="submit" class="btn btn-success pull-right" style="margin-left: 8px;">Simpan</button>
                
            </div>  
          
          </form>
      </div>
      <!-- /.modal-content -->
      
    </div>
    <!-- /.modal-dialog -->
    <div class="modal-footer">
            {% comment %} <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save</button> {% endcomment %}
        </div>
  </div>
    </section>

</div>
<script type="text/javascript">
    $('#date').datepicker();
    $(document).ready(function() {
        $('#example1').DataTable( {
          "lengthMenu": [[5, 10, 25, 50, ], [5, 10, 25, 50,]]
      } );
    } );
</script>
<script >
    // pkko = document.querySelector('input[name="jabatan"]:checked').value;
    function jbtn(){
        var pko = document.getElementById('pko');
        let pkko = Array.from(document.getElementsByName("jabatan")).find(r => r.checked).value;
        if (pkko == 'ketua'){
            pko.value = 1;
        }else if(pkko == 'sekjend'){
            pko.value = 2;
        }else{
            pko.value = 4;
        }
    }
    function dspl(){
        var dsp = document.getElementById('dsp');
        var hadir = document.getElementById('kehadiran');
        var langgar = document.getElementById('pelanggaran');
        var hasil = (parseInt(hadir.value) + parseInt(langgar.value))/2;
        if(hasil > 90){
            dsp.value = 1;
        }else if(hasil > 80){
            dsp.value = 2;
        }else if(hasil > 70){
            dsp.value = 3;
        }else{
            dsp.value = 4;
        }
    }
    function kes(){
        var kes = document.getElementById('kes');
        var kess = document.querySelector('input[name="kesehatan"]:checked').value;
        if(kess == 'sehat'){
            kes.value = 4;
        }else{
            kes.value = 1;
        }
    }
    function psi(){
        var psk = document.getElementById('psk');
        var intel = document.getElementById('intelegensi');
        var kep = document.getElementById('kepribadian');
        var hasil = (parseInt(intel.value) + parseInt(kep.value))/2;
        if(hasil > 90){
            psk.value = 1;
        }else if(hasil > 80){
            psk.value = 2;
        }else if(hasil > 70){
            psk.value = 3;
        }else{
            psk.value = 4;
        }
    }
    function pet(){
        var pt2 = document.getElementById('pt2');
        var teo = document.getElementById('teori');
        var prak = document.getElementById('praktik');
        var hasil = (parseInt(teo.value) + parseInt(prak.value))/2;
        if(hasil > 90){
            pt2.value = 1;
        }else if(hasil > 80){
            pt2.value = 2;
        }else if(hasil > 70){
            pt2.value = 3;
        }else{
            pt2.value = 4;
        }
    }
</script>

{% if messages %} {% for message in messages %}
<script>
    toastr.success('{{message}}')
</script>
{% endfor %} {% endif %}


{% endblock %}